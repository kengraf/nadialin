openapi: 3.0.1
info:
  title: Nadialin
  description: Cybersecurity "King of the hill" game.
  version: 1.0.20
  x-lambdaArn: "arn:aws:lambda:us-east-2:788715698479:function:nadialin"
  x-region: "us-east-2"
  
servers:
- url: /v1
security:
- CookieAuth: []
paths:
  /verifyToken:
    post:
      summary: Authenticate the user and issue a session cookie
      operationId: userLogin
      requestBody:
        description: Login credentials
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/verifyToken_body'
        required: true
      responses:
        "200":
          description: "Login successful, session cookie set"
          headers:
            Set-Cookie:
              description: Session cookie
              style: simple
              explode: false
              schema:
                type: string
                example: session_id=abc123; HttpOnly; Secure; Path=/; Max-Age=3600
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: POST
        uri: "arn:aws:apigateway:`x-region`:lambda:path/2015-03-31/functions/`x-lambdaArn`-verifyToken/invocations"
       
  /squad:
    put:
      tags:
      - squad
      summary: Add/update squad information (members)
      operationId: putSquad
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Squad'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Squad'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /squad/{name}:
    get:
      tags:
      - squad
      summary: Retrieve squad members
      operationId: getSquad
      parameters:
      - name: name
        in: path
        description: Name of hacker to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Squad'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - squad
      summary: Remove squad from event
      operationId: deleteSquad
      parameters:
      - name: name
        in: path
        description: Name of squad to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Squad'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DELETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /squads:
    get:
      tags:
      - squad
      summary: Retrieve all squads
      operationId: getSquads
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /hacker:
    put:
      tags:
      - hacker
      summary: Add/update hacker information
      operationId: putHacker
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Hacker'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hacker'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /hacker/{name}:
    get:
      tags:
      - hacker
      summary: Retrieve hacker information
      operationId: getHacker
      parameters:
      - name: name
        in: path
        description: Name of hacker to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hacker'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - hacker
      summary: Remove hacker from event
      operationId: deleteHacker
      parameters:
      - name: name
        in: path
        description: Name of hacker to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hacker'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DE:ETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /hackers:
    get:
      tags:
      - hacker
      summary: Retrieve all hackers
      operationId: getHackers
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /event:
    put:
      tags:
      - event
      summary: Add/update event information
      operationId: putEvent
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Event'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /event/{name}:
    get:
      tags:
      - event
      summary: Retrieve event information
      operationId: getEvent
      parameters:
      - name: name
        in: path
        description: Name of event to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - event
      summary: "Remove event from event, is this real?"
      operationId: deleteEvent
      parameters:
      - name: name
        in: path
        description: Name of event to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DELETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /eventScores:
    get:
      tags:
      - event
      summary: Retrieve scores for all squads
      operationId: eventScores
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-eventScores"
  /backupEvent:
    get:
      tags:
      - event
      summary: "Retrieve all event data, minus service checks"
      operationId: backupEvent
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-backupEvent"
  /restoreEvent:
    put:
      tags:
      - event
      summary: "Load previous event data, no service checks"
      operationId: restoreEvent
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Event'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-restoreEvent"
  /machine:
    put:
      tags:
      - machine
      summary: Add/update machine information
      operationId: putMachine
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Machine'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Machine'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /machine/{name}:
    get:
      tags:
      - machine
      summary: Retrieve machine information
      operationId: getMachine
      parameters:
      - name: name
        in: path
        description: Name of machine to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Machine'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - machine
      summary: Remove machine from event
      operationId: deleteMachine
      parameters:
      - name: name
        in: path
        description: Name of machine to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Machine'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DELETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /machines:
    get:
      tags:
      - machine
      summary: Retrieve all machines
      operationId: getMachines
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /instance:
    put:
      tags:
      - instance
      summary: Add/update instance information
      operationId: putInstance
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Instance'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Instance'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /instance/{name}:
    get:
      tags:
      - instance
      summary: Retrieve instance information
      operationId: getInstance
      parameters:
      - name: name
        in: path
        description: Name of instance to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Instance'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - instance
      summary: Remove instance from event
      operationId: deleteInstance
      parameters:
      - name: name
        in: path
        description: Name of instance to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Instance'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DELETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /instances:
    get:
      tags:
      - instance
      summary: Retrieve all instances
      operationId: getInstances
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /runInstances:
    put:
      tags:
      - instance
      summary: Launch one instance per squad
      operationId: runInstances
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-manageInstances"
  /terminateInstances:
    put:
      tags:
      - instance
      summary: "Terminate all instances, post event action"
      operationId: terminateInstances
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-manageInstances"
  /restartInstance/{name}:
    put:
      tags:
      - instance
      summary: Restart (terminate followed by run)
      operationId: restartInstances
      parameters:
      - name: name
        in: path
        description: Name of instance to restart
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-manageInstances"
  /currentState/{name}:
    get:
      tags:
      - instance
      summary: "Retrieve running, booting, stop state instances"
      operationId: currentState
      parameters:
      - name: name
        in: path
        description: Name of instance to retrieve state
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-manageInstances"
  /service:
    put:
      tags:
      - service
      summary: Add/update service information
      operationId: putService
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Service'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Service'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /service/{name}:
    get:
      tags:
      - service
      summary: Retrieve service information
      operationId: getService
      parameters:
      - name: name
        in: path
        description: Name of service to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Service'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
    delete:
      tags:
      - service
      summary: Remove service from event
      operationId: deleteService
      parameters:
      - name: name
        in: path
        description: Name of service to remove
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Service'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: DELETE
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /services:
    get:
      tags:
      - service
      summary: Retrieve all Services
      operationId: getServices
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /serviceCheck:
    put:
      tags:
      - serviceCheck
      summary: Add/update service check information
      operationId: putServiceCheck
      requestBody:
        description: TBD *Markdown*
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceCheck'
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceCheck'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: PUT
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /serviceCheck/{name}:
    get:
      tags:
      - serviceCheck
      summary: Retrieve service check information
      operationId: getServiceCheck
      parameters:
      - name: name
        in: path
        description: Name of serviceCheck to get
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceCheck'
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
  /secure-endpoint:
    get:
      summary: Access a secure endpoint (requires authentication)
      operationId: secureEndpoint
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_1'
        "401":
          description: Unauthorized (invalid or missing session cookie)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'
      security:
      - CookieAuth: []
      x-amazon-apigateway-integration:
        payloadFormatVersion: "2.0"
        type: aws_proxy
        httpMethod: GET
        uri: "arn:aws:lambda:{region}:{account_id}:function:`x-deployname`-databaseItems"
components:
  schemas:
    Squad:
      type: object
      properties:
        name:
          type: string
          description: This is the flag value to show machine ownership
          example: WoobaGoobas
        score:
          type: integer
          description: Current numerof points scored
        members:
          type: array
          description: list of hackers in squad
          items:
            type: string
      xml:
        name: category
    Hacker:
      type: object
      properties:
        id:
          type: string
          description: Session cookie genrated on login
          format: uuid4
          example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        name:
          type: string
          example: Gooba
        email:
          type: string
          description: Google email provided at login
          format: email
          example: wooba@goobas.com
        active:
          type: boolean
          description: VPN login Login status
        admin:
          type: boolean
          description: True if allowed to manage the event
        oidcToken:
          type: string
          description: token provided at login
        squad:
          type: string
          description: Nmae of this hacker's squad
          example: WoobaGoobas
      xml:
        name: hacker
    Machine:
      required:
      - ami
      - name
      - userData
      type: object
      properties:
        name:
          type: string
          description: unique and informative prefix
        templateName:
          type: string
          description: Name of AWS launch template
        authorNotes:
          type: string
          description: guidence provided by the machine author
        services:
          type: array
          items:
            type: string
            description: Names of services
        instances:
          type: array
          items:
            type: string
            description: Names of instances. This will be the DNS prefix value
      xml:
        name: machine
    Service:
      required:
      - id
      - port
      - protocol
      type: object
      properties:
        id:
          type: string
          description: A unique and informative function name
          example: httpHomePageGet
        protocol:
          type: string
          description: Protocol offered by machine
          example: HTTPS or SSH
          enum:
          - SSH
          - HTTP
          - HTTPS
          - RDP
        port:
          type: integer
          description: Any valid TCP port
        functionName:
          type: string
          description: Name of the lambda function to invoked during check
          example: httpHomePageGet
        points:
          type: integer
          description: Points awarded on successful checks.  Liveness checks are normally 0
      xml:
        name: service
    ServiceCheck:
      required:
      - id
      - instance
      - result
      - service
      - timeStamp
      type: object
      properties:
        id:
          type: string
          description: UUID primary key
        instance:
          type: string
          description: Name of instance that was checked
        service:
          type: string
          description: Name of service that was checked
        timestamp:
          type: string
          description: When service check completed
          format: date-time
          example: 2024-07-21T17:32:28Z
        result:
          type: boolean
          description: Simple success/failure
      xml:
        name: serviceCheck
    Instance:
      required:
      - adminSquad
      type: object
      properties:
        adminSquad:
          type: string
          description: "Original owner, and only squad allowed to request reboot"
          example: WoobaGoobas
        owner:
          type: string
          description: Flag of current squad
          example: WoobaGoobas
        ipv4:
          type: string
          description: IPv4 address of machine
          format: ipv6
          example: 10.66.2.2
        dns:
          type: string
          description: DNS name of machine
          format: dns
          example: woobagoobas.test.com
        status:
          type: string
          description: machine status in the event
          enum:
          - booting
          - running
          - down
      xml:
        name: machine
    Event:
      required:
      - admin
      - name
      type: object
      properties:
        name:
          type: string
          example: WoobaGooba's King of the Hill event
        admin:
          type: string
          description: "The name of person creating and managing the event, may or may not be playing"
          example: wooba
        startTime:
          type: string
          description: "Start time of event, when access to instances is allowed"
          format: data-time
          example: 2017-07-21T17:32:28Z
        endTime:
          type: string
          description: When the scoring and access stops
          format: data-time
          example: 2017-07-21T17:32:28Z
        homePage:
          type: string
          description: Event dashboard
          format: uri
          example: https://woobagoobas.test.com
        squadize:
          type: integer
          description: Maximum number of hackers allowed on a squad (can be 1)
      xml:
        name: machine
    verifyToken_body:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
    inline_response_200:
      type: object
      properties:
        message:
          type: string
          example: Login successful
    inline_response_200_1:
      type: object
      properties:
        message:
          type: string
          example: Secure data accessed
    inline_response_401:
      type: object
      properties:
        error:
          type: string
          example: Unauthorized
  requestBodies:
    Machine:
      description: Machine object that needs to be added to the event
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Machine'
        application/xml:
          schema:
            $ref: '#/components/schemas/Machine'
    HackerArray:
      description: List of hacker object
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Hacker'
  securitySchemes:
    CookieAuth:
      type: apiKey
      name: session_id
      in: cookie
